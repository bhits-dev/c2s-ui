<md-card class="left-align">
  <md-card-title>{{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.TITLE' | translate }}</md-card-title>
  <md-card-content>
    <p>{{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DESCRIPTION' | translate }}</p>
    <md-radio-group [(ngModel)]="isShareAll">
      <div>
        <md-radio-button name="medicalInformation"
                         #medInfoA
                         [value]="1"
                         (click)="onSelectShareAll(medicalInformationDialog, medInfoA.value)">
            <span [innerHTML]="'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.SHARE_ALL_RADIO' | translate" ></span>
          </md-radio-button>
      </div>
      <div>
        <md-radio-button name="medicalInformation"
                         #medInfoB
                         [value]="0"
                         (click)="onSelectDonotShareAll(medicalInformationDialog, medInfoB.value)">
          <span [innerHTML]="'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.SHARE_SOME_RADIO' | translate"></span>
          <button type="button" *ngIf="(isShareAll === 0)"
                                md-raised-button
                                color="primary"
                                (click)="onSelectEditDonotShareAll(medicalInformationDialog,medInfoB.value)">
            {{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.EDIT_BTN' | translate }}
          </button>
        </md-radio-button>
      </div>
    </md-radio-group>
    <br>
    <md-chip-list>
        <span *ngFor="let sensitivityPolicy of checkedSensitityPolicies; let i = index;">
          <md-chip color="primary" selected="true" >{{sensitivityPolicy}}</md-chip>
        </span>
    </md-chip-list>
  </md-card-content>
</md-card>



<md2-dialog #medicalInformationDialog>
  <md2-dialog-title>{{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.TITLE' | translate }}</md2-dialog-title>
  <md-card class="left-align">
    <md-card-title>{{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.HEADER1' | translate }}</md-card-title>
    <md-card-content>
      <h2>{{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.HEADER2' | translate }}</h2>
      <h4 *ngIf="isAllCategoriesSelected">
        Please select the "Share my medical record without any exceptions" option,
        if you want to share all of your health information.
      </h4>
      <div>
        <strong>
                {{federalInfo.title}}
                <md-icon tooltip="{{federalInfo.description}}"
                         tooltip-positionh="below"
                         tooltip-delay="100">info</md-icon>
          </strong>
      </div>
      <div *ngFor="let sensitivityPolicy of sensitivityPolicies; let i = index;">
        <md-checkbox *ngIf="sensitivityPolicy.federal"
                     [(ngModel)]="sensitivityPolicies[i].checked"
                     [disabled]="(isShareAll === 1)"
                     (change)="isCheckedAll()">
          {{sensitivityPolicy.displayName}}
          <md-icon tooltip="{{sensitivityPolicy.description}}"
                   tooltip-positionh="below"
                   tooltip-delay="100">info</md-icon>
        </md-checkbox>
      </div>
      <br>
      <div>
        <strong>
          {{stateInfo.title}}
          <md-icon tooltip="{{stateInfo.description}}"
                   tooltip-positionh="below"
                   tooltip-delay="100">info</md-icon>
        </strong>
      </div>
      <div *ngFor="let sensitivityPolicy of sensitivityPolicies; let i = index;">
        <md-checkbox *ngIf="!sensitivityPolicy.federal"
                     [(ngModel)]="sensitivityPolicies[i].checked"
                     [disabled]="(isShareAll === 1)"
                     (change)="isCheckedAll()">
          {{sensitivityPolicy.displayName}}
          <md-icon tooltip="{{sensitivityPolicy.description}}"
                   tooltip-positionh="below"
                   tooltip-delay="100">info</md-icon>
        </md-checkbox>
      </div>
    </md-card-content>
  </md-card>
  <md2-dialog-footer>
    <button type="button" md-raised-button (click)="closeDialog(medicalInformationDialog)">
      {{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.CANCEL_BTN' | translate }}
    </button>
    <button type="button" md-raised-button color="primary"
            *ngIf="(isShareAll === 0)"
            [disabled]="isAllCategoriesSelected"
            (click)="setSelectedMedicalInformation(medicalInformationDialog)" >
      {{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.SAVE_BTN' | translate }}
    </button>
    <button type="button" md-raised-button color="primary"  *ngIf="(isShareAll === 1)" (click)="confirmSelectAll(medicalInformationDialog)" >
      {{ 'CONSENT_CREATE_EDIT.MEDICAL_INFORMATION.DIALOG.CONFIRM_BTN' | translate }}
    </button>

  </md2-dialog-footer>
</md2-dialog>
