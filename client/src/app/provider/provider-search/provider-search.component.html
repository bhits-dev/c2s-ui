<div class="p-t-75 p-l-md p-r-md p-b">
  <h1 class="">Search Providers</h1>

  <md-card class="provider-search-card" xmlns="http://www.w3.org/1999/html">
    <!--<h2 fxLayoutAlign="start">Search</h2>-->

    <div class="containerX">
      <!--<div fxLayout="column" fxLayoutAlign="start">-->

      <form [formGroup]="searchProviderFrom" novalidate>
        <md2-accordion multiple="false" (open)="resetAccordionTab()">
          <md2-accordion-tab [active]="accordionTab">

            <md2-accordion-header class="">
              <md-card-title align="start"><i class="material-icons middle m-r-xs">search</i>Search</md-card-title>
            </md2-accordion-header>

            <md-card-content class="m-l-sm m-r-sm">
              <div class="section-border hover p-xs">
                <md-toolbar class="toolbar-base">
                  <button md-mini-fab aria-label="Step 1">
                    <span>1</span>
                  </button>
                  <span class="toolbar-header">Step 1. Please enter the provider State and City OR Zip Code.</span>
                </md-toolbar>

                <div formGroupName="locatingType">
                  <!--<div fxLayout="column" fxLayoutAlign="center center">-->
                  <div class="p-sm p-b m-t-xs bg-lite-blue">
                    <div class="font-size12 font-weight400 p-t-sm p-b-sm center">PLEASE CHOOSE ONE.</div>

                    <div class="bob">
                      <button fxFlex="1 0 auto" fxFlex.gt-sm="0 1 400px" class="toggle toggle-block"
                              (click)="setLocatingType(LOCATING_TYPE.STATE_CITY)"
                              [class.toggle-default]="!isStateCityType()"
                              [class.toggle-primary]="isStateCityType()">
                        <strong>Enter State and City</strong>
                      </button>

                      <div class="p-l-sm p-r-sm center"><h3>OR</h3></div>

                      <button fxFlex="1 0 auto" fxFlex.gt-sm="0 1 400px" fxLayoutAlign="center"
                              class="toggle toggle-block"
                              (click)="setLocatingType(LOCATING_TYPE.ZIP)"
                              [class.toggle-default]="isStateCityType()"
                              [class.toggle-primary]="!isStateCityType()">
                        <strong>Enter Zip Code</strong>
                      </button>
                    </div>
                  </div>

                  <!--</div>-->

                  <div class="p-sm m-t" *ngIf="isStateCityType()">
                    <div class="p-b-sm">
                      <!--<div fxLayout="column">-->

                      <div fxLayout="column" formGroupName="stateCity">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-select fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                                     placeholder="Please Select State (Required)"
                                     formControlName="state">
                            <md-option *ngFor="let state of states" [value]="state.stateCode">
                              {{ state.stateValue }}
                            </md-option>
                          </md-select>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center" class="p-t-xs">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('locatingType.stateCity.state', ERROR_CODE.REQUIRED)"
                               class="form-invalid">
                            State is required.
                          </div>
                        </div>
                      </div>

                      <div fxLayout="column" formGroupName="stateCity" class="p-t-sm">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                            <input mdInput placeholder="City (Required)" formControlName="city">
                          </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('locatingType.stateCity.city', ERROR_CODE.MIN_LENGTH)"
                               class="form-invalid">
                            Must be at least 2 characters long.
                          </div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('locatingType.stateCity.city', ERROR_CODE.REQUIRED)"
                               class="form-invalid">
                            City is required.
                          </div>
                        </div>
                      </div>

                      <!--</div>-->
                    </div>
                  </div>

                  <div class="p-sm m-t-xs" *ngIf="!isStateCityType()">
                    <div class="p-b-sm">
                      <div fxLayout="column" formGroupName="zip">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                            <input mdInput placeholder="Zip Code (Required)" formControlName="zipCode">
                          </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('locatingType.zip.zipCode', ERROR_CODE.PATTERN)"
                               class="form-invalid">
                            Must be with formats: 12345 or 12345-6789.
                          </div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('locatingType.zip.zipCode', ERROR_CODE.REQUIRED)"
                               class="form-invalid">
                            Zip code is required.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="m-t section-border hover p-xs">
                <md-toolbar class="toolbar-base">
                  <button md-mini-fab aria-label="Step 2">
                    <span>2</span>
                  </button>
                  <span class="toolbar-header">Step 2. Please enter the provider Facility Name OR Provider Name and Other Criteria.</span>
                </md-toolbar>

                <div formGroupName="providerType">
                  <div class="p-sm p-b m-t-xs bg-lite-blue">
                    <div class="font-size12 font-weight400 p-t-sm p-b-sm center">PLEASE CHOOSE ONE.</div>
                    <div class="bob">
                      <button fxFlex="1 0 auto" fxFlex.gt-sm="0 1 400px" class="toggle toggle-block"
                              (click)="setProviderType(PROVIDER_TYPE.INDIVIDUAL)"
                              [class.toggle-default]="!isIndividualProviderType()"
                              [class.toggle-primary]="isIndividualProviderType()">
                        <strong>Enter Provider Name and Other Criteria</strong>
                      </button>

                      <div class="p-l-sm p-r-sm center"><h3>OR</h3></div>

                      <button fxFlex="1 0 auto" fxFlex.gt-sm="0 1 400px" class="toggle toggle-block"
                              (click)="setProviderType(PROVIDER_TYPE.ORGANIZATION)"
                              [class.toggle-default]="isIndividualProviderType()"
                              [class.toggle-primary]="!isIndividualProviderType()">
                        <strong>Enter Facility Name</strong>
                      </button>

                    </div>
                  </div>

                  <div class="p-sm m-t-xs" *ngIf="isIndividualProviderType()">
                    <div class="p-b-sm">

                      <div fxLayout="column" formGroupName="individual">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                            <input mdInput placeholder="Last Name (Required)" formControlName="lastName"/>
                          </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('providerType.individual.lastName', ERROR_CODE.MIN_LENGTH)"
                               class="form-invalid">
                            Must be at least 2 characters long.
                          </div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('providerType.individual.lastName', ERROR_CODE.REQUIRED)"
                               class="form-invalid">
                            Last Name is required.
                          </div>
                        </div>
                      </div>

                      <div fxLayout="column" formGroupName="individual" class="p-t-sm">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                            <input mdInput placeholder="First Name (Optional)" formControlName="firstName">
                          </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                          <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('providerType.individual.firstName', ERROR_CODE.MIN_LENGTH)"
                               class="form-invalid">
                            Must be at least 2 characters long.
                          </div>
                        </div>
                      </div>

                      <div fxLayout="column" formGroupName="individual" class="p-t-sm">
                        <div fxLayout="row" fxLayoutAlign="center">
                          <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                            <input mdInput placeholder="Telephone (Optional)" formControlName="phone">
                          </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center" fxLayoutWrap="wrap" class="m-b-sm">
                          <div fxFlex="0 0" fxFlex.gt-sm="0 1 600px"
                               *ngIf="hasErrorOnCurrentFormControl('providerType.individual.phone', ERROR_CODE.PATTERN)"
                               class="form-invalid">
                            Must be with formats: 123-456-7890 (123)456-7890 1234567890 123.456.7890.
                          </div>
                        </div>
                      </div>

                      <div fxLayout="column" formGroupName="individual" class="p-t-sm">
                        <div fxLayout="row" fxLayoutAlign="center">
                        <md-select fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                                   placeholder="Gender (Optional)"
                                   formControlName="genderCode">
                          <md-option *ngFor="let gender of genderGroup" [value]="gender.genderCode">
                            {{ gender.genderValue }}
                          </md-option>
                        </md-select>
                        </div>
                      </div>

                    </div>
                  </div>

                  <div class="p-sm m-t-xs" *ngIf="!isIndividualProviderType()">
                    <div class="p-b-sm">

                      <div fxLayout="column" formGroupName="organization">
                        <div fxLayout="row" fxLayoutAlign="center">
                        <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                          <input mdInput placeholder="Facility Name (Required)" formControlName="orgName"/>
                        </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                        <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                             *ngIf="hasErrorOnCurrentFormControl('providerType.organization.orgName', ERROR_CODE.MIN_LENGTH)"
                             class="form-invalid">
                          Must be at least 2 characters long.
                        </div>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                        <div fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px"
                             *ngIf="hasErrorOnCurrentFormControl('providerType.organization.orgName', ERROR_CODE.REQUIRED)"
                             class="form-invalid">
                          Facility Name is required.
                        </div>
                        </div>
                      </div>
                      <div fxLayout="column" formGroupName="organization" class="p-t-xs">
                        <div fxLayout="row" fxLayoutAlign="center">
                        <md-input-container fxFlex="1 0 auto" fxFlex.gt-sm="0 1 600px">
                          <input mdInput placeholder="Telephone (Optional)" formControlName="phone">
                        </md-input-container>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="center">
                        <div fxFlex="0 0" fxFlex.gt-sm="0 1 600px"
                             *ngIf="hasErrorOnCurrentFormControl('providerType.organization.phone', ERROR_CODE.PATTERN)"
                             class="form-invalid">
                          Must be with formats: 123-456-7890 (123)456-7890 1234567890 123.456.7890.
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </md-card-content>
            <div fxLayout="row" fxLayoutAlign="end" fxLayoutGap="15px" class="p-r">
              <button md-raised-button color="primary" (click)="clearForm()" [disabled]="searchProviderFrom.pristine">
                <strong>Clear All</strong>
              </button>
              <button md-raised-button color="primary" (click)="searchProviders()"
                      [disabled]="searchProviderFrom.invalid"><strong>Search</strong>
              </button>
            </div>
          </md2-accordion-tab>
        </md2-accordion>
      </form>
      <div [hidden]="!hasSearchResult" [ngStyle]="{'padding-top': '30px'}">
        <c2s-provider-search-result [providerResult]="searchResponse"></c2s-provider-search-result>
      </div>

    </div>
  </md-card>

</div>
