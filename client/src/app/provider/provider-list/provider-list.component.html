<md-card>
  <h2 fxLayoutAlign="start">List Providers</h2>
  <md-toolbar>Let's get started! You are required to have at least 2 Providers to create a Consent.</md-toolbar>

  <div fxLayout="column" [ngStyle]="{'padding-top': '20px'}">
    <div fxLayoutAlign="start">
      <a md-raised-button routerLink="/provider-search" routerLinkActive="active" color="primary">
        Add a Health Provider</a>
    </div>
    <div>
      <md2-accordion>
        <md2-accordion-tab [active]="accordionTab">
          <md2-accordion-header>
            <md-card-title align="start">Current Healthcare Providers</md-card-title>
          </md2-accordion-header>
          <div>
            <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
          </div>
          <md-card-content>
            <div>
              <table [md2Data]="providers" [rowsPerPage]="10">
                <thead>
                <tr>
                  <th style="width: 5%">
                    <md-icon>mode_edit</md-icon>
                  </th>
                  <th style="width: 25%" md2SortBy="orgName">Name/Facility</th>
                  <th style="width: 12%" md2SortBy="npi">NPI</th>
                  <th style="width: 13%">Contact Number</th>
                  <th style="width: 45%">Address</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let provider of providers | paginate: paginationConfig">
                  <td>
                    <div>
                      <md2-dialog #confirm>
                        <md2-dialog-title>Delete Provider</md2-dialog-title>
                        Are you sure you want to delete this provider?
                        <md2-dialog-footer>
                          <button md-raised-button color="primary" (click)="confirmDeleteProvider(confirm, provider)">Ok
                          </button>
                          <button md-raised-button (click)="confirm.close()">Cancel</button>
                        </md2-dialog-footer>
                      </md2-dialog>
                      <button md-icon-button color="warn" [disabled]="!provider.deletable" (click)="confirm.open()">
                        <md-icon>delete_forever</md-icon>
                      </button>
                    </div>
                  </td>
                  <td>{{provider | providerName}}</td>
                  <td>{{provider.npi}}</td>
                  <td>{{provider.practiceLocationAddressTelephoneNumber | usPhoneNumber}}</td>
                  <td>{{provider | providerAddress}}</td>
                </tr>
                </tbody>
              </table>
            </div>
            <div>
              <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
            </div>
          </md-card-content>
        </md2-accordion-tab>
      </md2-accordion>
    </div>
  </div>
</md-card>
