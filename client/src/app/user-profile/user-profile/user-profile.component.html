<div class="p-t-75 p-l-md p-r-md p-b">
  <h1>{{ 'USER_PROFILE.TITLE' | translate }}</h1>

  <div fxLayout="row" fxLayoutGap="20px">
    <button md-raised-button color="primary" (click)="uploadEditAvatar()">
      <strong>
        {{ 'USER_PROFILE.AVATAR_REDIRECT_LABEL' | translate }}
      </strong>
    </button>
  </div>

  <form [formGroup]="editProfileForm" class="create-edit-patient-form" novalidate>
    <h2>
      {{ 'USER_PROFILE.EDIT.REQUIRED_INFORMATION.LABEL' | translate }}
    </h2>
    <div fxLayout="row" fxLayoutGap="20px">
      <div fxFlex>
        <md-input-container class="full-width font-size20">
          <input mdInput
                 placeholder="{{ 'USER_PROFILE.EDIT.REQUIRED_INFORMATION.FIELDS.EMAIL_PLACEHOLDER' | translate }}"
                 formControlName="homeEmail">
        </md-input-container>
        <c2s-control-messages
          [customMessage]="emailErrorMessage"
          [control]="editProfileForm.controls.homeEmail">
        </c2s-control-messages>
        <md-hint class="has-error font-size16" *ngIf="editProfileForm.hasError('oneEmailRequired')">
          {{oneEmailRequiredMessage | translate}}
        </md-hint>
      </div>
    </div>

    <h2>
      {{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.LABEL' | translate }}
    </h2>
    <div formGroupName="homeAddress">
      <div fxLayout="row" fxLayoutGap="20px">
        <div fxFlex>
          <md-input-container class="full-width font-size20">
            <input mdInput
                   placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.STREET_LINE1_PLACEHOLDER' | translate }}"
                   formControlName="line1">
          </md-input-container>
          <c2s-control-messages
            [control]="editProfileForm.get('homeAddress.line1')">
          </c2s-control-messages>
        </div>
        <div fxFlex>
          <md-input-container class="full-width font-size20">
            <input mdInput
                   placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.STREET_LINE2_PLACEHOLDER' | translate }}"
                   formControlName="line2">
          </md-input-container>
          <c2s-control-messages
            [control]="editProfileForm.get('homeAddress.line2')">
          </c2s-control-messages>
        </div>
      </div>
      <div fxLayout="row" fxLayoutGap="20px">
        <div fxFlex>
          <md-input-container class="full-width font-size20">
            <input mdInput
                   placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.CITY_PLACEHOLDER' | translate }}"
                   formControlName="city">
          </md-input-container>
          <c2s-control-messages
            [control]="editProfileForm.get('homeAddress.city')">
          </c2s-control-messages>
        </div>
        <div fxFlex>
          <md-input-container class="full-width font-size20">
            <input mdInput
                   placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.POSTAL_CODE_PLACEHOLDER' | translate }}"
                   formControlName="postalCode">
          </md-input-container>
          <c2s-control-messages
            [customMessage]="zipErrorMessage"
            [control]="editProfileForm.get('homeAddress.postalCode')">
          </c2s-control-messages>
        </div>
      </div>
      <div fxLayout="row" fxLayoutGap="20px">
        <div fxFlex>
          <md-select placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.STATE_PLACEHOLDER' | translate }}"
                     formControlName="stateCode"
                     class="full-width font-size20">
            <md-option *ngFor="let state of profileFieldsLookupInfo.stateCodes" [value]="state.code">
              {{ state.displayName }}
            </md-option>
          </md-select>
        </div>
        <div fxFlex>
          <md-select
            placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.COUNTRY_PLACEHOLDER' | translate }}"
            formControlName="countryCode"
            class="full-width font-size20">
            <md-option *ngFor="let country of profileFieldsLookupInfo.countryCodes" [value]="country.code">
              {{ country.displayName }}
            </md-option>
          </md-select>
        </div>
      </div>
    </div>
    <div fxLayout="row" fxLayoutGap="20px">
      <div fxFlex>
        <md-input-container class="full-width font-size20">
          <input mdInput
                 placeholder="{{ 'USER_PROFILE.EDIT.ADDITIONAL_INFORMATION.FIELDS.PHONE_PLACEHOLDER' | translate }}"
                 formControlName="homePhone">
        </md-input-container>
        <c2s-control-messages
          [customMessage]="phoneErrorMessage"
          [control]="editProfileForm.controls.homePhone">
        </c2s-control-messages>
      </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="end" fxLayoutGap="20px">
      <button md-raised-button color="primary" (click)="cancel()">
        <strong>
          {{ 'USER_PROFILE.EDIT.CANCEL_BTN' | translate }}
        </strong>
      </button>
      <button md-raised-button color="primary" (click)="updateProfile()"
              [disabled]="editProfileForm.invalid || editProfileForm.pristine">
        <strong>
          {{ 'USER_PROFILE.EDIT.SAVE_BTN' | translate }}
        </strong>
      </button>
    </div>
  </form>
</div>
